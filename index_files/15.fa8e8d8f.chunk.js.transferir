(this["webpackJsonpvirtual-fitting-room-4"]=this["webpackJsonpvirtual-fitting-room-4"]||[]).push([[15],{196:function(n,e,t){"use strict";t.d(e,"b",(function(){return r}));var i=t(27);e.a=function(n,e,t){return"age"===n&&e>120?120:"foot"===n&&e>7?7:"inches"===n&&e>11?11:"weight"===n&&e>220&&!t?220:"weight"===n&&e>485&&t?485:"height"===n&&e>220?220:void 0};var r=function(n,e,t,r){var a=n.find((function(n){return n.name===e})),c=r?+Object(i.a)(a.max):a.max,o=t>c?null!==c&&void 0!==c?c:0:t;return r?Object(i.d)(o):o}},198:function(n,e,t){"use strict";t.d(e,"b",(function(){return d})),t.d(e,"d",(function(){return h})),t.d(e,"a",(function(){return p}));var i,r,a,c=t(0),o=t.n(c),l=t(2),u=t(1),s=t(7),d=u.c.div(i||(i=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  // TODO: fix margin RTL\n  margin: 10px 4px 10px 10px;\n  justify-content: space-between;\n\n  @media screen and (max-width: 720px) {\n    margin: 10px 10px 10px 0;\n  }\n"]))),b=u.c.input.attrs({pattern:"d*",autoComplete:"off"})(r||(r=Object(l.a)(["\n  width: 80px;\n  height: 30px;\n  font-size: 16px;\n  text-align: center;\n  color: ",";\n  margin: 10px;\n\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  outline: none;\n\n  @media screen and (max-width: 720px) {\n    height: 42px;\n  }\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  -moz-appearance: textfield;\n"])),(function(n){return n.theme.colors.tundora}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.emperor}),(function(n){return n.theme.radius.selector})),m=Object(u.c)(b).attrs({id:"form__input-sm"})(a||(a=Object(l.a)(["\n  width: 40px;\n  margin: 0;\n\n  &:last-child {\n    // TODO: fix margin RTL\n    margin-left: 4px;\n  }\n\n  ",";\n\n  @media screen and (max-width: 720px) {\n    &:first-child {\n      margin-left: 0;\n    }\n  }\n"])),s.h),f=t(64),g=t(63),h=function(n){return Object(g.a)(n,f.b)},p=function(n){return o.a.createElement(m,Object.assign({},n,{type:"number",onKeyPress:h}))};e.c=function(n){return o.a.createElement(b,Object.assign({},n,{type:"number",onKeyPress:h,id:"form__input-md"}))}},199:function(n,e,t){"use strict";t.d(e,"d",(function(){return B})),t.d(e,"c",(function(){return U})),t.d(e,"k",(function(){return J})),t.d(e,"f",(function(){return R})),t.d(e,"e",(function(){return Y})),t.d(e,"g",(function(){return H})),t.d(e,"a",(function(){return Q})),t.d(e,"b",(function(){return X})),t.d(e,"j",(function(){return Z})),t.d(e,"i",(function(){return $})),t.d(e,"h",(function(){return nn}));var i,r,a,c,o,l,u,s,d,b,m,f,g,h,p,j,O,x,v,w,y,E,k,C,S,T,_,M,z,A,I,D,F=t(2),N=t(5),V=t(16),W=t(1),P=t(7),L=Object(W.d)(i||(i=Object(F.a)(["\n  from {\n    transform: translateY(0px);\n  };\n\n  to {\n    transform: translateY(-100px);\n  };\n"]))),G=Object(W.b)(r||(r=Object(F.a)(["\n  font-weight: 700;\n  color: #fff;\n  z-index: 9999;\n"]))),B=Object(W.c)(N.c)(a||(a=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  ",";\n\n  @media screen and (max-width: 720px) {\n    width: 250px;\n    position: relative;\n    top: 10px;\n  }\n"])),(function(n){return n.scrollOnForm&&Object(W.b)(c||(c=Object(F.a)(["\n      animation-name: ",";\n      animation-duration: 0.5s;\n      animation-fill-mode: both;\n      animation-timing-function: ease;\n    "])),L)})),U=Object(W.c)(N.h)(o||(o=Object(F.a)(["\n  flex-direction: column;\n  align-items: flex-start;\n\n  position: absolute;\n  bottom: ","px;\n\n  visibility: ",";\n  opacity: ",";\n  transition: visibility 0.5s linear, opacity 0.5s linear;\n\n  @media screen and (max-width: 720px) and (max-height: 736px) {\n    height: 100%;\n    top: 30px;\n  }\n\n  @media screen and (max-width: 320px) {\n    top: 15px;\n  }\n\n  @media screen and (min-height: 717px) {\n    bottom: 200px;\n  }\n\n  @media screen and (min-height: 763px) {\n    bottom: 55px;\n  }\n"])),(function(n){return n.hasSelectors?100:130}),(function(n){return n.canTransition?"visible":"hidden"}),(function(n){return n.canTransition?1:0})),J=W.c.div(l||(l=Object(F.a)(["\n  display: flex;\n  flex-direction: row;\n\n  position: relative;\n\n  @media screen and (max-width: 320px) {\n    top: 4px;\n  }\n\n  ",";\n"])),P.h),K=(Object(W.c)(J)(u||(u=Object(F.a)(["\n  flex-direction: ",";\n"])),(function(n){return"rtl"===n.theme.dir?"row-reverse":"row"})),W.c.div.attrs({className:"switcher-indicator"})(s||(s=Object(F.a)(["\n  height: 20px;\n  position: absolute;\n  background-color: ",";\n  transition: all 150ms ease-out;\n  border-radius: 3px;\n  z-index: 1;\n\n  ",";\n"])),(function(n){return n.theme.colors.tundora}),P.l)),R=Object(W.c)(K)(d||(d=Object(F.a)(["\n  ","\n"])),(function(n){var e=n.isMetric,t=n.theme,i=n.position;return e?"rtl"===t.dir?Object(W.b)(b||(b=Object(F.a)(["\n            right: ",";\n          "])),i):Object(W.b)(m||(m=Object(F.a)(["\n            left: ",";\n          "])),i):"rtl"===t.dir?Object(W.b)(f||(f=Object(F.a)(["\n          right: 0;\n        "]))):Object(W.b)(g||(g=Object(F.a)(["\n          left: 0;\n        "])))})),Y=(Object(W.c)(K)(h||(h=Object(F.a)(["\n  ","\n"])),(function(n){var e=n.ageType,t=n.theme;return"m"===e?"rtl"===t.dir?Object(W.b)(p||(p=Object(F.a)(["\n            right: 53px;\n          "]))):Object(W.b)(j||(j=Object(F.a)(["\n            left: 53px;\n          "]))):"rtl"===t.dir?Object(W.b)(O||(O=Object(F.a)(["\n          right: 2px;\n        "]))):Object(W.b)(x||(x=Object(F.a)(["\n          left: 2px;\n        "])))})),Object(W.c)(V.a).attrs({className:"welcome__description"})(v||(v=Object(F.a)(["\n  margin: 20px 0;\n\n  @media screen and (min-height: 763px) {\n    margin: 10px 0;\n  }\n"])))),q=W.c.label(w||(w=Object(F.a)(["\n  border-radius: ",";\n  text-align: center;\n\n  ","\n"])),(function(n){return n.theme.radius.button}),(function(n){var e=n.theme;return"rtl"===e.dir?Object(W.b)(y||(y=Object(F.a)(["\n          margin-left: ",";\n        "])),e.margins.default):Object(W.b)(E||(E=Object(F.a)(["\n          margin-right: ",";\n        "])),e.margins.default)})),H=Object(W.c)(q)(k||(k=Object(F.a)(["\n  ",";\n  cursor: pointer;\n  transition: all 150ms ease-out;\n\n  padding: 0 10px;\n\n  height: 20px;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ",";\n"])),(function(n){return n.active?G:"color: #939393;"}),P.l),Q=W.c.div(C||(C=Object(F.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  @media screen and (max-width: 720px) {\n    flex-direction: column;\n    align-items: flex-start;\n    margin: 4px 0;\n\n    input#form__input-md {\n      ","\n\n      margin-top: 10px;\n      width: 80px;\n      height: 42px;\n    }\n  }\n"])),(function(n){return"rtl"===n.theme.dir?Object(W.b)(S||(S=Object(F.a)(["\n              margin-right: 0;\n            "]))):Object(W.b)(T||(T=Object(F.a)(["\n              margin-left: 0;\n            "])))})),X=Object(W.c)(q).attrs({className:"form__measures--field"})(_||(_=Object(F.a)(["\n  width: 48px;\n"]))),Z=Object(W.c)(N.c)(M||(M=Object(F.a)(["\n  visibility: ",";\n"])),(function(n){return n.isVisible?"visible":"hidden"})),$=Object(W.c)(N.c)(z||(z=Object(F.a)(["\n  flex-direction: row;\n  transition: 500ms all;\n\n  visibility: ",";\n  opacity: ",";\n\n  @media screen and (max-width: 720px) {\n    flex-direction: column;\n  }\n"])),(function(n){return n.isVisible?"visible":"hidden"}),(function(n){return n.isVisible?1:0})),nn=W.c.button(A||(A=Object(F.a)(["\n  width: 125px;\n  height: 35px;\n\n  ","\n\n  background: #f7f7f7;\n  border-radius: 4px;\n  border: 1px solid #555555;\n  opacity: 1;\n  cursor: pointer;\n  outline: none;\n  transition: 0.5s;\n\n  ","\n  ","\n\n  ",";\n  ",";\n\n  @media screen and (max-width: 720px) {\n    width: 260px;\n    height: 42px;\n    margin-right: 0;\n    margin-bottom: 16px;\n    font-size: ",";\n  }\n\n  @media screen and (max-width: 320px) {\n    width: 238px;\n    height: 42px;\n    margin-right: 0;\n    margin-bottom: 16px;\n    font-size: ",";\n  }\n"])),(function(n){return"rtl"===n.theme.dir?Object(W.b)(I||(I=Object(F.a)(["\n          margin-left: 12px;\n        "]))):Object(W.b)(D||(D=Object(F.a)(["\n          margin-right: 12px;\n        "])))}),(function(n){var e=n.active,t=n.isInitial;return!e&&!t&&"opacity: 0.3"}),(function(n){var e=n.active,t=n.isInitial,i=n.theme;return e&&!t&&"border: 1px solid ".concat(i.colors.emperor,"; font-weight: 700")}),P.j,P.k,(function(n){return n.theme.typography.small}),(function(n){return n.theme.typography.small}))},215:function(n,e,t){"use strict";e.a=function(n){var e=document.getElementById(n);return"".concat((null===e||void 0===e?void 0:e.offsetWidth)||41,"px")}},279:function(n,e,t){"use strict";t.r(e);var i={};t.r(i),t.d(i,"Switcher",(function(){return U})),t.d(i,"SwitcherIndicator",(function(){return J})),t.d(i,"InputSwitcherIndicator",(function(){return K})),t.d(i,"AgeSwitcherIndicator",(function(){return R}));var r,a,c,o,l,u,s,d,b,m,f,g,h,p=t(18),j=t(8),O=t(12),x=t(0),v=t.n(x),w=t(21),y=t(62),E=t(91),k=t(36),C=t(87),S=t(20),T=t(5),_=t(57),M=t(45),z=t(16),A=t(135),I=t(15),D=t(27),F=t(196),N=t(6),V=t(198),W=t(2),P=t(1),L=t(7),G=P.c.div(r||(r=Object(W.a)(["\n  display: flex;\n  align-items: center;\n  font-size: ",";\n  ",";\n"])),(function(n){return n.theme.typography.fit}),L.d),B=t(199),U=P.c.div(a||(a=Object(W.a)(["\n  display: flex;\n  flex-direction: row;\n\n  position: relative;\n\n  @media screen and (max-width: 320px) {\n    top: 4px;\n  }\n"]))),J=P.c.div.attrs({className:"switcher-indicator"})(c||(c=Object(W.a)(["\n  height: 20px;\n  position: absolute;\n  background-color: ",";\n  transition: all 150ms ease-out;\n  border-radius: 3px;\n  z-index: 1;\n\n  ",";\n"])),(function(n){return n.theme.colors.tundora}),L.l),K=Object(P.c)(J)(o||(o=Object(W.a)(["\n  ","\n"])),(function(n){var e=n.isMetric,t=n.theme,i=n.position;return e?"rtl"===t.dir?Object(P.b)(l||(l=Object(W.a)(["\n            right: ",";\n          "])),i):Object(P.b)(u||(u=Object(W.a)(["\n            left: ",";\n          "])),i):"rtl"===t.dir?Object(P.b)(s||(s=Object(W.a)(["\n          right: 0;\n        "]))):Object(P.b)(d||(d=Object(W.a)(["\n          left: 0;\n        "])))})),R=Object(P.c)(J)(b||(b=Object(W.a)(["\n  ","\n"])),(function(n){var e=n.ageType,t=n.theme;return"m"===e?"rtl"===t.dir?Object(P.b)(m||(m=Object(W.a)(["\n            right: 53px;\n          "]))):Object(P.b)(f||(f=Object(W.a)(["\n            left: 53px;\n          "]))):"rtl"===t.dir?Object(P.b)(g||(g=Object(W.a)(["\n          right: 2px;\n        "]))):Object(P.b)(h||(h=Object(W.a)(["\n          left: 2px;\n        "])))})),Y=t(215),q=x.memo((function(n){var e,t,r,a,c=n.rule,o=n.onClick,l=n.indicatorProps,u=n.canDisplay,s=Object(N.b)((function(n){return n.Application})).config,d=(null===l||void 0===l?void 0:l.ageType)?u:null===s||void 0===s||null===(e=s.general)||void 0===e?void 0:e.measurementSwitcher,b=null!==(t=n.labels)&&void 0!==t?t:["cm","in"],m=null!==(r=n.actions)&&void 0!==r?r:["not-metric","metric"],f=null!==(a=i[n.indicator])&&void 0!==a?a:K,g=function(n){return function(){return o(n)}};return x.createElement(U,null,d?x.createElement(x.Fragment,null,x.createElement(B.g,{id:"szb-switcher-0",onClick:c?g(m[0]):null,active:!c},b[0].toLowerCase()),x.createElement(B.g,{id:"szb-switcher-1",onClick:c?null:g(m[1]),active:c},b[1].toLowerCase()),x.createElement(f,Object.assign({width:Object(Y.a)("szb-switcher-".concat(c?"1":"0")),isMetric:c,position:"43px"},l))):x.createElement(B.g,{id:"szb-switcher",style:{cursor:"default"}},c?b[1].toLowerCase():b[0].toLowerCase()))})),H=function(n){var e,t=Object(A.a)().t,i=n.config,r=n.isMetric,a=n.ageType,c=n.canTransition,o=n.onEnterValue,l=n.onSetMeasurementType,u=n.onSetAgeType,s=n.formData,d=function(n){return l("metric"===n)},b=function(n){return function(e){o(n,e.target.value)}};return x.createElement(B.c,{canTransition:c,hasSelectors:!(null===i||void 0===i||null===(e=i.general)||void 0===e?void 0:e.gender),className:"form___measures"},x.createElement(G,null,x.createElement(B.a,null,x.createElement(B.b,null,t("generics.height")),r?x.createElement(V.b,null,x.createElement(V.a,{onChange:b("foot"),value:s.foot||""}),x.createElement(V.a,{onChange:b("inches"),value:s.inches||""})):x.createElement(V.c,{onChange:b("height"),value:s.height||""})),x.createElement(q,{rule:r,onClick:d})),x.createElement(G,null,x.createElement(B.a,null,x.createElement(B.b,null,t("generics.weight")),x.createElement(V.c,{onChange:b("weight"),value:s.weight||""})),x.createElement(q,{labels:["kg","lb"],rule:r,onClick:d})),x.createElement(G,null,x.createElement(B.a,null,x.createElement(B.b,null,t("generics.age")),x.createElement(V.c,{onChange:b("age"),value:s.age||""})),x.createElement(q,{canDisplay:n.hasAgeSwitcher,labels:[t("generics.years"),t("generics.months")],actions:["y","m"],rule:"m"===a,indicator:"AgeSwitcherIndicator",indicatorProps:{ageType:a},onClick:function(n){return u(n)}})))},Q=t(4),X=t.n(Q),Z=t(9),$=t(3),nn=t(46),en=t(10),tn=t(22);e.default=function(){var n,e,t,i,r,a=Object(C.a)("Enter"),c=Object(A.a)(),o=c.t,l=c.i18n,u=Object(S.a)().isMobile,s=Object(N.b)((function(n){return n.Application})),d=s.config,b=s.globalSystem,m=Object(N.b)((function(n){return n.Product})).product,f=m.genderTheWearWasDesignedFor,g={gender:"U"!==f?f:null!==null?null:null===d||void 0===d||null===(n=d.general)||void 0===n?void 0:n.gender,foot:null,inches:null,height:null,weight:null,age:null},h=Object(I.b)(),V=Object(x.useState)(!1),W=Object(O.a)(V,2),P=W[0],L=W[1],G=Object(x.useState)(Object(k.b)()),U=Object(O.a)(G,2),J=U[0],K=U[1],R=Object(x.useState)("y"),Y=Object(O.a)(R,2),q=Y[0],Q=Y[1],rn=Object(x.useState)(g),an=Object(O.a)(rn,2),cn=an[0],on=an[1],ln=null===d||void 0===d||null===(e=d.general)||void 0===e?void 0:e.gender,un=!!cn.gender,sn=Object(x.useMemo)((function(){var n=["gender","age","weight"],e=[].concat(n,["height"]),t=[].concat(n,["foot","inches"]);return J?t.every((function(n){return!!cn[n]})):e.every((function(n){return!!cn[n]}))}),[cn,J]),dn=function(n){return function(){on(Object(j.a)(Object(j.a)({},cn),{},{gender:n}))}},bn=function(n){if(K(n),n){var e=cn.height?Object(D.b)(cn.height):{foot:null===cn||void 0===cn?void 0:cn.foot,inches:null===cn||void 0===cn?void 0:cn.inches},t=Object(D.c)(null===e||void 0===e?void 0:e.foot,null===e||void 0===e?void 0:e.inches)||cn.height;e&&on(Object(j.a)(Object(j.a)({},cn),{},{foot:e.foot,inches:e.inches&&String(e.inches),height:t,weight:Object(D.e)(cn.weight)}))}else on(Object(j.a)(Object(j.a)({},cn),{},{height:Object(D.c)(cn.foot,cn.inches),weight:Object(D.f)(cn.weight)}))},mn=Object(x.useCallback)((function(){var n;h((n={formData:cn,isMetric:J,ageType:q},function(){var e=Object(Z.a)(X.a.mark((function e(t,i){var r,a,c,o,l,u,s,d,b,m,f,g,h,p,O,x;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i(),a=n.formData,c=n.isMetric,o=n.ageType,l=r.Product.product,u=r.Application.config,s=l.genderTheWearWasDesignedFor,d=r.User.activeProfile,b=u.optionalSteps,f=(m="m"===o)?0:+a.age,g=Object(nn.a)(f,l.ageGroup),h=m||"kids"===g,p=d.ignoreGender||"U"===s||s===a.gender,O=Object(j.a)(Object(j.a)({},a),{},{height:c?Object(D.c)(a.foot,a.inches):a.height,isMetric:c,ageType:o}),t(Object(tn.g)({step:$.a.Welcome,data:O})),t(Object(en.f)(c?"metric":"imperial")),x=function(){return l.ageGroup!==g?$.a.AgeGroupWarning:p?h&&(null===b||void 0===b?void 0:b.Calculating)?$.a.Calculating:!h&&(null===b||void 0===b?void 0:b.BodyAdjustment)?$.a.BodyAdjustment:(null===b||void 0===b?void 0:b.Calculating)?$.a.Calculating:$.a.Fetching:$.a.GenderWarning},t(Object(tn.a)(x()));case 17:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()))}),[q,h,cn,J]);return Object(x.useEffect)((function(){a&&sn&&mn()}),[a,mn,sn]),Object(x.useEffect)((function(){var n="metric"===b;b&&n!==J&&bn(n)}),[l.language]),v.a.createElement(T.e,null,v.a.createElement(_.a,{bg:"white"},v.a.createElement(E.a,{src:m.coverImage,alt:m.name})),v.a.createElement(M.a,null,v.a.createElement(T.f,null,v.a.createElement(B.d,{scrollOnForm:un,onAnimationEnd:function(){return L(!0)},className:"heading__welcome"},v.a.createElement(z.d,null,o("welcome.title")),v.a.createElement(B.e,null,o("welcome.subtitle")),v.a.createElement(B.j,{isVisible:!P&&!ln},v.a.createElement(B.i,{isVisible:!u&&!ln||!P&&!ln},v.a.createElement(B.h,{isInitial:null===cn.gender,className:"selector__".concat("F"===cn.gender?"active":"inactive"),active:"F"===cn.gender,onClick:dn("F")},o("welcome.gender_f")),v.a.createElement(B.h,{isInitial:null===cn.gender,className:"selector__".concat("M"===cn.gender?"active":"inactive"),active:"M"===cn.gender,onClick:dn("M")},o("welcome.gender_m"))))),v.a.createElement(H,{config:d,hasAgeSwitcher:null===d||void 0===d||null===(t=d.general)||void 0===t?void 0:t.ageSwitcher,hasMeasuresSwitcher:null===d||void 0===d||null===(i=d.general)||void 0===i?void 0:i.measurementSwitcher,isMetric:J,ageType:q,canTransition:P,formData:cn,onEnterValue:function(n,e){var t=Object(F.a)(n,+e,J),i=""===e?void 0:t||e;return on(Object(j.a)(Object(j.a)({},cn),{},Object(p.a)({},n,i))),t},onSetMeasurementType:bn,onSetAgeType:function(n){return Q(n)}})),v.a.createElement(y.b,{isVisible:P,isSingle:!u},u&&!(null===d||void 0===d||null===(r=d.general)||void 0===r?void 0:r.gender)&&v.a.createElement(w.b,{variant:"secondary",onClick:function(){L(!1),on(Object(j.a)(Object(j.a)({},g),{},{gender:null}))}},o("footer.back")),v.a.createElement(w.b,{variant:"primary",onClick:mn,disabled:!sn},o("footer.next")))))}}}]);